{
  "className":"swingtree.styles.Styles_Spec",
  "title":"The Style Configuration",
  "narrative":"This specification demonstrates what kind of style configuration is\n    created by various usage patterns of the style API.\n    The style configuration defines how Swing components ought to be\n    configured and rendered.",
  "subjects":["swingtree.style.Style"],
  "statistics":{
    "runs":"8",
    "successRate":"100.0%",
    "failures":"0",
    "errors":"0",
    "skipped":"0",
    "duration":"?"
  },
  "headers":[],"tags":{},"see":[],
  "features":[ 
    {
      "id":"Various kinds of String expressions can be parsed as colors by various style properties.",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":[]
      },
      "blocks":[
        {"kind":"given","text":"We use method chaining within the style API to build a colorful style:","code":["var style =","                ComponentExtension.from(","                    UI.of(new JComponent(){})","                    .withStyle(conf -> conf","                        .foundationColor(colorString)","                        .backgroundColor(colorString)","                        .foregroundColor(colorString)","                        .border(1, colorString)","                        .shadowColor(colorString)","                        .fontSelectionColor(colorString)","                        .fontColor(colorString)","                    )","                    .get(JComponent)","                )","                .getStyle()"]},

        {"kind":"and","text":"We unpack everything:","code":["var foundationColor = style.base().foundationColor()","var backgroundColor = style.base().backgroundColor()","var foregroundColor = style.base().foregroundColor()","var borderColor = style.border().color()","var shadowColor = style.shadow().color()","var fontSelectionColor = style.font().selectionColor()","var fontColor = style.font().color()"]},

        {"kind":"expect","text":"","code":["backgroundColor.get() == expectedColor","foregroundColor.get() == expectedColor"]},

        {"kind":"and","text":"","code":["!foundationColor.isPresent() && expectedColor == UI.COLOR_UNDEFINED || foundationColor.get() == expectedColor","!borderColor.isPresent() && expectedColor == UI.COLOR_UNDEFINED || borderColor.get() == expectedColor","!shadowColor.isPresent() && expectedColor == UI.COLOR_UNDEFINED || shadowColor.get() == expectedColor","!fontSelectionColor.isPresent() && expectedColor == UI.COLOR_UNDEFINED || fontSelectionColor.get() == expectedColor","!fontColor.isPresent() && expectedColor == UI.COLOR_UNDEFINED || fontColor.get() == expectedColor"]},

        {"kind":"where","text":"","code":{"colorString":["\"red\"","\"#ff0000\"","\"0xff0000\"","\"rgb(255,0,0)\"","\"rgba(1.0,0,0,1.0)\"","\"rgba(100%,0,0, 1.0)\"","\"rgba(255,0,0,255)\"","\"rgba(100%,0,0,100%)\"","\"hsb(0,100%,100%)\"","\"hsb(0,1.0,1f)\"","\"magenta\"","\"#ff00ff\"","\"0xff00ff\"","\"rgb(255,0,255)\"","\"rgba(1.0,0,1.0,1.0)\"","\"rgba(100%,0,100%,1f)\"","\"rgba(255,0,255,255)\"","\"rgba(100%,0,100%,100%)\"","\"hsb(0.8333333,100%,100%)\"","\"hsb(300°,100%,100%)\"","\"rgb(255,22,0)\"","\"rgba(255,22,0, 0.5)\"","\"hsb(0.014379084,1f,1f)\"","\"hsba(0.014379084,1f,1f,0.5)\"","\"transparent\"","\"yellow\"","\"black\"","\"indigo\"","\"transparent purple\"","\"transparent red\"","\"transparent green\"","\"transparent blue\"","\"light indigo\"","\"dark navy\"","\"\"","\"I make no sense!\"","\"I make no sense! at all!\"","\"Hold my b(0/&/§H%,1fu3s98s\""],"expectedColor":["Color.RED","Color.RED","Color.RED","Color.RED","Color.RED","Color.RED","Color.RED","Color.RED","Color.RED","Color.RED","Color.MAGENTA","Color.MAGENTA","Color.MAGENTA","Color.MAGENTA","Color.MAGENTA","Color.MAGENTA","Color.MAGENTA","Color.MAGENTA","Color.MAGENTA","Color.MAGENTA","new Color(255, 22, 0)","new Color(255, 22, 0, 127)","new Color(255, 22, 0)","new Color(255, 22, 0, 127)","new Color(0, 0, 0, 0)","Color.YELLOW","Color.BLACK","new Color(75, 0, 130)","new Color(128, 0, 128, 127)","new Color(255, 0, 0, 127)","new Color(0, 255, 0, 127)","new Color(0, 0, 255, 127)","new Color(107, 0, 185)","new Color(0, 0, 89)","UI.COLOR_UNDEFINED","UI.COLOR_UNDEFINED","UI.COLOR_UNDEFINED","UI.COLOR_UNDEFINED"]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"The String representation of a style config will tell you everything about it!",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":[]
      },
      "blocks":[
        {"kind":"given","text":"","code":["SwingTree.initialiseUsing { it.uiScaleFactor(uiScale) }","var scale = { it * uiScale }","var scaledToString = { String.valueOf(scale(it)).replace(\".0\", \"\") }","var roundScaledToString = { String.valueOf(Math.round(scale(it))).replace(\".0\", \"\") }"]},

        {"kind":"and","text":"\n            We create a simple Swing component, a JSpinner, and\n            send it through the SwingTree builder API where\n            we apply a style to it by updating its style configuration.\n        ","code":["var style =","                ComponentExtension.from(","                    UI.of(new JSpinner()).withStyle(conf->conf","                        .foundationColor(\"red\")","                        .backgroundColor(\"green\")","                        .borderColor(\"blue\")","                        .borderWidths(1, 2, 3, 4)","                        .borderRadius(12, 18)","                        .shadowColor(\"yellow\")","                        .fontSelectionColor(\"cyan\")","                        .fontColor(\"magenta\")","                        .fontFamily(\"Times New Roman\")","                        .fontSize(12)","                        .fontBold(true)","                        .fontUnderline(true)","                        .fontStrikeThrough(true)","                    )","                    .get(JSpinner)","                )","                .getStyle()"]},

        {"kind":"expect","text":"","code":["style.toString() == \"Style[\" +","                        \"LayoutStyle[NONE], \" +","                        \"BorderStyle[\" +","                            \"arcWidth=\" + scaledToString(12) + \", \" +","                            \"arcHeight=\" + scaledToString(18) + \", \" +","                            \"topWidth=\" + scaledToString(1) + \", \" +","                            \"rightWidth=\" + scaledToString(2) + \", \" +","                            \"bottomWidth=\" + scaledToString(3) + \", \" +","                            \"leftWidth=\" + scaledToString(4) + \", \" +","                            \"margin=Outline[\" +","                                \"top=${(scale(1) % 1 == 0 ? \"?\" : 1 - scale(1) % 1 )}, \" +","                                \"right=${(scale(2) % 1 == 0 ? \"?\" : 1 - scale(2) % 1 )}, \" +","                                \"bottom=${(scale(3) % 1 == 0 ? \"?\" : 1 - scale(3) % 1 )}, \" +","                                \"left=${(scale(4) % 1 == 0 ? \"?\" : 1 - scale(4) % 1 )}\" +","                            \"], \" +","                            \"padding=Outline[top=?, right=?, bottom=?, left=?], \" +","                            \"color=rgba(0,0,255,255)\" +","                        \"], \" +","                        \"BaseStyle[\" +","                            \"icon=?, \" +","                            \"fitComponent=NO, \" +","                            \"backgroundColor=rgba(0,255,0,255), \" +","                            \"foundationColor=rgba(255,0,0,255), \" +","                            \"foregroundColor=?, \" +","                            \"cursor=?, \" +","                            \"orientation=UNKNOWN\" +","                        \"], \" +","                        \"FontStyle[\" +","                            \"family=Times New Roman, \" +","                            \"size=\" + Math.round(12*uiScale) + \", \" +","                            \"posture=0.0, \" +","                            \"weight=2.0, \" +","                            \"spacing=0.0, \" +","                            \"underlined=true, \" +","                            \"strikeThrough=true, \" +","                            \"color=rgba(255,0,255,255), \" +","                            \"backgroundColor=?, \" +","                            \"selectionColor=rgba(0,255,255,255), \" +","                            \"transform=?, \" +","                            \"paint=?, \" +","                            \"backgroundPaint=?, \" +","                            \"horizontalAlignment=?, \" +","                            \"verticalAlignment=?\" +","                        \"], \" +","                        \"DimensionalityStyle[NONE], \" +","                        \"StyleLayers[\" +","                            \"background=StyleLayer[EMPTY], \" +","                            \"content=StyleLayer[\" +","                                \"shadows=ShadowStyle[\" +","                                    \"horizontalOffset=0, \" +","                                    \"verticalOffset=0, \" +","                                    \"blurRadius=0, \" +","                                    \"spreadRadius=0, \" +","                                    \"color=rgba(255,255,0,255), \" +","                                    \"isInset=false\" +","                                \"], \" +","                                \"painters=PainterStyle[NONE], \" +","                                \"gradients=GradientStyle[NONE], \" +","                                \"images=ImageStyle[NONE]\" +","                            \"], \" +","                            \"border=StyleLayer[EMPTY], \" +","                            \"foreground=StyleLayer[EMPTY]\" +","                        \"], \" +","                        \"properties=[]\" +","                    \"]\""]},

        {"kind":"when","text":"We create another style with some other properties:","code":["var paint1 = new GradientPaint(0, 0, Color.RED, 100, 100, Color.BLUE)","var paint2 = new GradientPaint(0, 0, Color.BLACK, 100, 100, Color.GREEN)","var transform = AffineTransform.getRotateInstance(0.5)","style = ComponentExtension.from(","                    UI.of(new JSpinner()).withStyle(conf->conf","                        .fontAlignment(UI.Alignment.CENTER)","                        .fontBackgroundPaint(paint1)","                        .fontPaint(paint2)","                        .fontTransform(transform)","                        .fontBackgroundColor(\"cyan\")","                        .fontBackgroundColor(new Color(0, 42, 42, 42))","                        .image(UI.Layer.FOREGROUND, \"bubbles\", imgConf -> imgConf","                            .fitMode(UI.FitComponent.WIDTH)","                            .repeat(true)","                            .image(\"/img/bubble-tree.svg\")","                        )","                    )","                    .get(JSpinner)","                )","                .getStyle()"]},

        {"kind":"then","text":"The style config has the expected string representation.","code":["style.toString() == \"Style[\" +","                        \"LayoutStyle[NONE], \" +","                        \"BorderStyle[NONE], \" +","                        \"BaseStyle[NONE], \" +","                        \"FontStyle[\" +","                            \"family=, \" +","                            \"size=0, \" +","                            \"posture=0.0, \" +","                            \"weight=0.0, \" +","                            \"spacing=0.0, \" +","                            \"underlined=?, \" +","                            \"strikeThrough=?, \" +","                            \"color=?, \" +","                            \"backgroundColor=rgba(0,42,42,42), \" +","                            \"selectionColor=?, \" +","                            \"transform=$transform, \" +","                            \"paint=$paint2, \" +","                            \"backgroundPaint=$paint1, \" +","                            \"horizontalAlignment=CENTER, \" +","                            \"verticalAlignment=CENTER\" +","                        \"], \" +","                        \"DimensionalityStyle[NONE], \" +","                        \"StyleLayers[\" +","                            \"background=StyleLayer[EMPTY], \" +","                            \"content=StyleLayer[EMPTY], \" +","                            \"border=StyleLayer[EMPTY], \" +","                            \"foreground=StyleLayer[\" +","                                \"shadows=ShadowStyle[NONE], \" +","                                \"painters=PainterStyle[NONE], \" +","                                \"gradients=GradientStyle[NONE], \" +","                                \"images=NamedStyles[\" +","                                    \"default=ImageStyle[NONE], \" +","                                    \"bubbles=ImageStyle[\" +","                                        \"primer=?, \" +","                                        \"image=${style.images(UI.Layer.FOREGROUND).get(0).image().get()}, \" +","                                        \"placement=UNDEFINED, \" +","                                        \"repeat=true, \" +","                                        \"fitComponent=WIDTH, \" +","                                        \"width=?, height=?, \" +","                                        \"opacity=1.0, \" +","                                        \"padding=Outline[top=?, right=?, bottom=?, left=?], \" +","                                        \"offset=Offset[x=0, y=0], \" +","                                        \"clipArea=BODY\" +","                                    \"]\" +","                                \"]\" +","                            \"]\" +","                        \"], \" +","                        \"properties=[]\" +","                    \"]\""]},

        {"kind":"when","text":"We create another style with some other properties:","code":["style = ComponentExtension.from(","                    UI.of(new JPanel()).withStyle(conf->conf","                        .layout(Layout.border(2, 4))","                        .size(100, 200)","                        .minSize(50, 100)","                        .maxHeight(300)","                        .prefWidth(400)","                        .gradient(UI.Layer.BORDER, \"gradient\", imgConf -> imgConf","                            .colors(Color.RED, Color.GREEN, Color.BLUE)","                            .transition(UI.Transition.BOTTOM_TO_TOP)","                            .type(UI.GradientType.RADIAL)","                        )","                    )","                    .get(JPanel)","                )","                .getStyle()"]},

        {"kind":"then","text":"","code":["style.toString() == \"Style[\" +","                        \"LayoutStyle[\" +","                            \"layout=BorderLayoutInstaller[hgap=2, vgap=4], \" +","                            \"constraint=?, \" +","                            \"alignmentX=?, \" +","                            \"alignmentY=?\" +","                        \"], \" +","                        \"BorderStyle[NONE], \" +","                        \"BaseStyle[NONE], \" +","                        \"FontStyle[NONE], \" +","                        \"DimensionalityStyle[\" +","                            \"minWidth=\" + roundScaledToString(50) + \", \" +","                            \"minHeight=\" + roundScaledToString(100) + \", \" +","                            \"maxWidth=\" + roundScaledToString(300) + \", \" +","                            \"maxHeight=?, \" +","                            \"preferredWidth=\" + roundScaledToString(400) + \", \" +","                            \"preferredHeight=?, \" +","                            \"width=\" + roundScaledToString(100) + \", \" +","                            \"height=\" + roundScaledToString(200) +","                        \"], \" +","                        \"StyleLayers[\" +","                            \"background=StyleLayer[EMPTY], \" +","                            \"content=StyleLayer[EMPTY], \" +","                            \"border=StyleLayer[\" +","                                \"shadows=ShadowStyle[NONE], \" +","                                \"painters=PainterStyle[NONE], \" +","                                \"gradients=NamedStyles[\" +","                                    \"default=GradientStyle[NONE], \" +","                                    \"gradient=GradientStyle[\" +","                                        \"transition=BOTTOM_TO_TOP, \" +","                                        \"type=RADIAL, \" +","                                        \"colors=[java.awt.Color[r=255,g=0,b=0], \" +","                                        \"java.awt.Color[r=0,g=255,b=0], \" +","                                        \"java.awt.Color[r=0,g=0,b=255]], \" +","                                        \"offset=Offset[x=0, y=0], \" +","                                        \"size=-1.0, \" +","                                        \"area=BODY\" +","                                    \"]\" +","                                \"], \" +","                            \"images=ImageStyle[NONE]\" +","                        \"], \" +","                        \"foreground=StyleLayer[EMPTY]\" +","                    \"], \" +","                    \"properties=[]\" +","                \"]\""]},

        {"kind":"where","text":"","code":{"uiScale":["1.0f","1.5f","2.0f","2.25f","3.0f"]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Style objects are value based (with respect to equality and hash code).",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            Style objects are value based, meaning that if two style objects\n            have the same properties, then they are considered equal.\n            So their identity is considered to be their value.\n            This is important for caching purposes, as the style objects are\n            used as cache keys.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"\n            First we need the component-style delegate styler, \n            which can update the style properties of the style configuration.\n        ","code":["var styler = s -> new ComponentStyleDelegate<>(new JPanel(), s)"]},

        {"kind":"and","text":"Then we create a starting style with various properties:","code":["var style1 =","                ComponentExtension.from(","                    UI.box().withStyle(conf->conf","                        .foundationColor(\"red\")","                        .backgroundColor(\"green\")","                        .borderColor(\"blue\")","                        .borderRadius(12, 18)","                        .shadowColor(\"yellow\")","                        .fontSelectionColor(\"cyan\")","                        .fontColor(\"magenta\")","                        .fontFamily(\"Times New Roman\")","                        .fontSize(12)","                        .fontBold(true)","                        .fontUnderline(true)","                        .fontStrikeThrough(true)","                        .shadowSpreadRadius(12)","                        .shadowBlurRadius(42)","                    )","                    .get(JBox)","                )","                .getStyle()"]},

        {"kind":"and","text":"We then create a second style with the same properties:","code":["var style2 =","                ComponentExtension.from(","                    UI.box().withStyle(conf->conf","                        .foundationColor(\"red\")","                        .backgroundColor(\"green\")","                        .borderColor(\"blue\")","                        .borderRadius(12, 18)","                        .shadowColor(\"yellow\")","                        .fontSelectionColor(\"cyan\")","                        .fontColor(\"magenta\")","                        .fontFamily(\"Times New Roman\")","                        .fontSize(12)","                        .fontBold(true)","                        .fontUnderline(true)","                        .fontStrikeThrough(true)","                        .shadowSpreadRadius(12)","                        .shadowBlurRadius(42)","                    )","                    .get(JBox)","                )","                .getStyle()"]},

        {"kind":"expect","text":"","code":["style1 == style2","style1.hashCode() == style2.hashCode()"]},

        {"kind":"and","text":"Changing a property and then comparing the styles should return false:","code":["style1 != styler(style2).fontBold(false).style()","style1.hashCode() != styler(style2).fontBold(false).style().hashCode()","style1 != styler(style2).shadowSpreadRadius(1).style()","style1.hashCode() != styler(style2).shadowSpreadRadius(1).style().hashCode()","style1 != styler(style2).shadowBlurRadius(1).style()","style1.hashCode() != styler(style2).shadowBlurRadius(1).style().hashCode()"]},

        {"kind":"and","text":"If we transform them both the same way then they will be equal:","code":["styler(style2).fontBold(false).style()                   == styler(style2).fontBold(false).style()","styler(style2).fontBold(false).style().hashCode()        == styler(style2).fontBold(false).style().hashCode()","styler(style2).shadowSpreadRadius(1).style()            == styler(style2).shadowSpreadRadius(1).style()","styler(style2).shadowSpreadRadius(1).style().hashCode() == styler(style2).shadowSpreadRadius(1).style().hashCode()","styler(style2).shadowBlurRadius(1).style()              == styler(style2).shadowBlurRadius(1).style()","styler(style2).shadowBlurRadius(1).style().hashCode()   == styler(style2).shadowBlurRadius(1).style().hashCode()"]}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"SwingTree will simplify the style configuration of a component if possible.",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            Simplifying a style configuration means that if the properties of a style\n            a configured in such a way that they are effectively the same as the default\n            in terms of how they will be rendered, then the style configuration will be\n            simplified to the default style.\n\n            This optimization is important to improve cache hit rates, as the immutable\n            style configuration objects are used as cache keys.\n            Simplifying the style configurations will ensure that style configurations\n            which effectively render the same thing will also share the same cache buffer\n            for rendering.\n\n            It is also memory efficient, as the default style objects are global null objects.\n        ","\n            Simplifying a style configuration means that if the properties of a style\n            a configured in such a way that they are effectively the same as the default\n            in terms of how they will be rendered, then the style configuration will be\n            simplified to the default style.\n\n            This optimization is important to improve cache hit rates, as the immutable\n            style configuration objects are used as cache keys.\n            Simplifying the style configurations will ensure that style configurations\n            which effectively render the same thing will also share the same cache buffer\n            for rendering.\n\n            It is also memory efficient, as the default style objects are global null objects.\n        ","\n            Simplifying a style configuration means that if the properties of a style\n            a configured in such a way that they are effectively the same as the default\n            in terms of how they will be rendered, then the style configuration will be\n            simplified to the default style.\n\n            This optimization is important to improve cache hit rates, as the immutable\n            style configuration objects are used as cache keys.\n            Simplifying the style configurations will ensure that style configurations\n            which effectively render the same thing will also share the same cache buffer\n            for rendering.\n\n            It is also memory efficient, as the default style objects are global null objects.\n        ","\n            Simplifying a style configuration means that if the properties of a style\n            a configured in such a way that they are effectively the same as the default\n            in terms of how they will be rendered, then the style configuration will be\n            simplified to the default style.\n\n            This optimization is important to improve cache hit rates, as the immutable\n            style configuration objects are used as cache keys.\n            Simplifying the style configurations will ensure that style configurations\n            which effectively render the same thing will also share the same cache buffer\n            for rendering.\n\n            It is also memory efficient, as the default style objects are global null objects.\n        ","\n            Simplifying a style configuration means that if the properties of a style\n            a configured in such a way that they are effectively the same as the default\n            in terms of how they will be rendered, then the style configuration will be\n            simplified to the default style.\n\n            This optimization is important to improve cache hit rates, as the immutable\n            style configuration objects are used as cache keys.\n            Simplifying the style configurations will ensure that style configurations\n            which effectively render the same thing will also share the same cache buffer\n            for rendering.\n\n            It is also memory efficient, as the default style objects are global null objects.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"","code":["SwingTree.initialiseUsing { it.uiScaleFactor(uiScale) }","var scale = { it * uiScale }","var scaledToString = { String.valueOf(scale(it)).replace(\".0\", \"\") }","var roundScaledToString = { String.valueOf(Math.round(scale(it))).replace(\".0\", \"\") }"]},

        {"kind":"and","text":"We create a highly simplifiable style through the style API.","code":["var button =","            UI.panel().withStyle(conf -> conf","                .borderColor(new Color(0,0,0,0))","                .borderRadius(0)","                .borderWidths(0,0,0,0)","                .shadowColor(new Color(50,150,200,0))","                .shadowBlurRadius(4)","                .shadowSpreadRadius(2)","                .image(UI.Layer.CONTENT, i -> i","                    .primer(new Color(100,100,100,0))","                    .size(100, 100)","                    .fitMode(UI.FitComponent.WIDTH)","                    .image(\"/images/bubbles.svg\")","                    .opacity(0.0f) // You can't see me!","                )","                .gradient(UI.Layer.BACKGROUND, g -> g","                    .colors(new Color(100, 50, 200, 0), new Color(255, 00, 250, 0))","                    .transition(UI.Transition.TOP_TO_BOTTOM)","                    .type(UI.GradientType.LINEAR)","                )","            )","            .get(JPanel)"]},

        {"kind":"expect","text":"The style config has the expected string representation.","code":["ComponentExtension.from(button).getStyle().toString() == \"Style[\" +","        \"LayoutStyle[NONE], \" +","        \"BorderStyle[NONE], \" +","        \"BaseStyle[NONE], \" +","        \"FontStyle[NONE], \" +","        \"DimensionalityStyle[NONE], \" +","        \"StyleLayers[\" +","            \"background=StyleLayer[EMPTY], \" +","            \"content=StyleLayer[EMPTY], \" +","            \"border=StyleLayer[EMPTY], \" +","            \"foreground=StyleLayer[EMPTY]\" +","        \"], \" +","        \"properties=[]\" +","    \"]\""]},

        {"kind":"when","text":"We create a not so simplifiable style for a component through the style API...","code":["button = UI.button(\"Hello World\").withStyle(conf -> conf","             .backgroundColor(Color.BLACK)","             .foregroundColor(Color.WHITE)","             .size(120, 80)","             .borderRadius(40)","         )","         .get(JButton)"]},

        {"kind":"then","text":"The style config has the expected string representation.","code":["ComponentExtension.from(button).getStyle().toString() == \"Style[\" +","        \"LayoutStyle[NONE], \" +","        \"BorderStyle[\" +","            \"radius=\" + scaledToString(40) + \", \" +","            \"width=?, \" +","            \"margin=Outline[top=?, right=?, bottom=?, left=?], \" +","            \"padding=Outline[top=?, right=?, bottom=?, left=?], \" +","            \"color=?\" +","        \"], \" +","        \"BaseStyle[\" +","            \"icon=?, \" +","            \"fitComponent=NO, \" +","            \"backgroundColor=rgba(0,0,0,255), \" +","            \"foundationColor=?, \" +","            \"foregroundColor=rgba(255,255,255,255), \" +","            \"cursor=?, \" +","            \"orientation=UNKNOWN\" +","        \"], \" +","        \"FontStyle[NONE], \" +","        \"DimensionalityStyle[\" +","            \"minWidth=?, \" +","            \"minHeight=?, \" +","            \"maxWidth=?, \" +","            \"maxHeight=?, \" +","            \"preferredWidth=?, \" +","            \"preferredHeight=?, \" +","            \"width=\" + roundScaledToString(120) + \", \" +","            \"height=\" + roundScaledToString(80) +","        \"], \" +","        \"StyleLayers[\" +","            \"background=StyleLayer[EMPTY], \" +","            \"content=StyleLayer[EMPTY], \" +","            \"border=StyleLayer[EMPTY], \" +","            \"foreground=StyleLayer[EMPTY]\" +","        \"], \" +","        \"properties=[]\" +","    \"]\""]},

        {"kind":"where","text":"","code":{"uiScale":["1.0f","1.5f","2.0f","2.25f","3.0f"]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"The border style will be simplified if padding and widths are all 0.",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            Simplifying a style configuration means that if the properties of a style\n            a configured in such a way that they are effectively the same as the default\n            in terms of how they will be rendered, then the style configuration will be\n            simplified to the default style.\n\n            This optimization is important to improve cache hit rates, as the immutable\n            style configuration objects are used as cache keys.\n            Simplifying the style configurations will ensure that style configurations\n            which effectively render the same thing will also share the same cache buffer\n            for rendering.\n\n            It is also memory efficient, as the default style objects are global null objects.\n        ","\n            Simplifying a style configuration means that if the properties of a style\n            a configured in such a way that they are effectively the same as the default\n            in terms of how they will be rendered, then the style configuration will be\n            simplified to the default style.\n\n            This optimization is important to improve cache hit rates, as the immutable\n            style configuration objects are used as cache keys.\n            Simplifying the style configurations will ensure that style configurations\n            which effectively render the same thing will also share the same cache buffer\n            for rendering.\n\n            It is also memory efficient, as the default style objects are global null objects.\n        ","\n            Simplifying a style configuration means that if the properties of a style\n            a configured in such a way that they are effectively the same as the default\n            in terms of how they will be rendered, then the style configuration will be\n            simplified to the default style.\n\n            This optimization is important to improve cache hit rates, as the immutable\n            style configuration objects are used as cache keys.\n            Simplifying the style configurations will ensure that style configurations\n            which effectively render the same thing will also share the same cache buffer\n            for rendering.\n\n            It is also memory efficient, as the default style objects are global null objects.\n        ","\n            Simplifying a style configuration means that if the properties of a style\n            a configured in such a way that they are effectively the same as the default\n            in terms of how they will be rendered, then the style configuration will be\n            simplified to the default style.\n\n            This optimization is important to improve cache hit rates, as the immutable\n            style configuration objects are used as cache keys.\n            Simplifying the style configurations will ensure that style configurations\n            which effectively render the same thing will also share the same cache buffer\n            for rendering.\n\n            It is also memory efficient, as the default style objects are global null objects.\n        ","\n            Simplifying a style configuration means that if the properties of a style\n            a configured in such a way that they are effectively the same as the default\n            in terms of how they will be rendered, then the style configuration will be\n            simplified to the default style.\n\n            This optimization is important to improve cache hit rates, as the immutable\n            style configuration objects are used as cache keys.\n            Simplifying the style configurations will ensure that style configurations\n            which effectively render the same thing will also share the same cache buffer\n            for rendering.\n\n            It is also memory efficient, as the default style objects are global null objects.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"","code":["SwingTree.initialiseUsing { it.uiScaleFactor(uiScale) }"]},

        {"kind":"and","text":"We create a highly simplifiable style through the style API.","code":["var panel =","            UI.panel().withStyle(conf -> conf","                .borderColor(Color.GREEN)","                .borderWidths(0,0,0,0)","                .padding(0,0,0,0)","                .borderRadiusAt(UI.Corner.TOP_LEFT, 0, 20)","                .borderRadiusAt(UI.Corner.BOTTOM_LEFT, 10, 0)","            )","            .get(JPanel)"]},

        {"kind":"expect","text":"\n            The style config has the expected string representation,\n            despite the fact that a visible border color was specified.\n            This is because the border width is 0, so the border is invisible\n            and the border color is irrelevant.\n        ","code":["ComponentExtension.from(panel).getStyle().toString() == \"Style[\" +","        \"LayoutStyle[NONE], \" +","        \"BorderStyle[NONE], \" +","        \"BaseStyle[NONE], \" +","        \"FontStyle[NONE], \" +","        \"DimensionalityStyle[NONE], \" +","        \"StyleLayers[\" +","            \"background=StyleLayer[EMPTY], \" +","            \"content=StyleLayer[EMPTY], \" +","            \"border=StyleLayer[EMPTY], \" +","            \"foreground=StyleLayer[EMPTY]\" +","        \"], \" +","        \"properties=[]\" +","    \"]\""]},

        {"kind":"when","text":"\n            We now define the exact same style, but with a visible border width\n            of 1 px at the right edge.\n        ","code":["panel = UI.panel().withStyle(conf -> conf","            .borderColor(Color.GREEN)","            .borderWidths(0,0,0,1)","            .padding(0,0,0,0)","            .borderRadiusAt(UI.Corner.TOP_LEFT, 0, 20)","            .borderRadiusAt(UI.Corner.BOTTOM_LEFT, 10, 0)","        )","        .get(JPanel)"]},

        {"kind":"then","text":"\n            The style config has the expected string representation,\n            despite the fact that a visible border color was specified.\n            This is because the border width is 0, so the border is invisible\n            and the border color is irrelevant.\n\n            Also note that if the uiScale is not whole, then the left border width\n            is also not whole which then leads to there being a margin on the left side.\n            This margin is a correction for the size of a component being integer based.\n            So in order to make the transition between styles look smooth, we need the margin\n            to buffer the fractional part of the border width.\n        ","code":["ComponentExtension.from(panel).getStyle().toString() == \"Style[\" +","        \"LayoutStyle[NONE], \" +","        \"BorderStyle[\" +","            \"radius=?, \" +","            \"topWidth=?, \" +","            \"rightWidth=?, \" +","            \"bottomWidth=?, \" +","            \"leftWidth=\" + String.valueOf(uiScale).replace(\".0\", \"\") + \", \" +","            \"margin=Outline[top=?, right=?, bottom=?, left=${( uiScale % 1 == 0 ? \"?\" : 1 - uiScale % 1 )}], \" +","            \"padding=Outline[top=?, right=?, bottom=?, left=?], \" +","            \"color=rgba(0,255,0,255)\" +","        \"], \" +","        \"BaseStyle[\" +","            (","                uiScale % 1 == 0 ?","                    \"NONE\" :","                    \"icon=?, \" +","                    \"fitComponent=NO, \" +","                    \"backgroundColor=rgba(238,238,238,255), \" +","                    \"foundationColor=?, \" +","                    \"foregroundColor=?, \" +","                    \"cursor=?, \" +","                    \"orientation=UNKNOWN\"","            ) +","        \"], \" +","        \"FontStyle[NONE], \" +","        \"DimensionalityStyle[NONE], \" +","        \"StyleLayers[\" +","            \"background=StyleLayer[EMPTY], \" +","            \"content=StyleLayer[EMPTY], \" +","            \"border=StyleLayer[EMPTY], \" +","            \"foreground=StyleLayer[EMPTY]\" +","        \"], \" +","        \"properties=[]\" +","    \"]\""]},

        {"kind":"where","text":"","code":{"uiScale":["1.0f","1.5f","2.0f","2.25f","3.0f"]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"The `UI.COLOR_UNDEFINED` constant can be used as a safe shorthand for null for the background and foreground properties of the style API",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            The `UI.COLOR_UNDEFINED` constant is a java.awt.Color object with all of its rgba values set to 0.\n            Its identity is used to represent the absence of a color being specified, \n            and is used as a safe replacement for null, meaning that when the style engine of a \n            component encounters it, it will pass it onto\n            the `Component::setBackground` and `Component::setForeground` methods as null.\n            Passing null to these methods means that the look and feel determines the coloring.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We have a new Swing component with a custom foreground and background color.","code":["var aToggleButton = new JToggleButton(\"Hello World\")","aToggleButton.setBackground(Color.ORANGE)","aToggleButton.setForeground(Color.DARK_GRAY)"]},

        {"kind":"when","text":"\n            We send the component through the SwingTree builder API and apply a style to it... \n        ","code":["aToggleButton = UI.of(aToggleButton).withStyle(conf -> conf","                    .backgroundColor(UI.COLOR_UNDEFINED)","                    .foregroundColor(UI.COLOR_UNDEFINED)","                    .foundationColor(UI.COLOR_UNDEFINED)","                )","                .get(JToggleButton)"]},

        {"kind":"then","text":"\n            The component will have its background and foreground color set to null,\n            which will cause it to use the default colors of the Look and Feel.\n        ","code":["aToggleButton.getBackground() == null","aToggleButton.getForeground() == null"]},

        {"kind":"and","text":"\n            The style config has the expected string representation!\n            Note that only the background and foreground colors are now set to \"DEFAULT\",\n            whereas the foundation color is represented by a question mark.\n            This is because the foundation color is not something that is used by the look and feel,\n            which means there is no default value for it.\n            The foundation color is used by the SwingTree style engine only, which does not impose\n            any default value for it (defaults may come from `StyleSheet` objects, but that is a different story).\n        ","code":["ComponentExtension.from(aToggleButton).getStyle().toString() == \"Style[\" +","        \"LayoutStyle[NONE], \" +","        \"BorderStyle[NONE], \" +","        \"BaseStyle[\" +","            \"icon=?, \" +","            \"fitComponent=NO, \" +","            \"backgroundColor=DEFAULT, \" +","            \"foundationColor=?, \" +","            \"foregroundColor=DEFAULT, \" +","            \"cursor=?, \" +","            \"orientation=UNKNOWN\" +","        \"], \" +","        \"FontStyle[NONE], \" +","        \"DimensionalityStyle[NONE], \" +","        \"StyleLayers[\" +","            \"background=StyleLayer[EMPTY], \" +","            \"content=StyleLayer[EMPTY], \" +","            \"border=StyleLayer[EMPTY], \" +","            \"foreground=StyleLayer[EMPTY]\" +","        \"], \" +","        \"properties=[]\" +","    \"]\""]}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"The `UI.COLOR_UNDEFINED` constant can be used as a safe shorthand for null for various properties in the style API",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            The `UI.COLOR_UNDEFINED` constant is a java.awt.Color object with all of its rgba values set to 0.\n            Its identity is used to represent the absence of a color, and is used as a safe shorthand for null,\n            meaning that when the style engine of a component encounters it, it will treat it as if no\n            color was specified for the property.\n            This is true for the shadow color, gradient colors, image primer color, and font colors...\n        "]
      },
      "blocks":[
        {"kind":"given","text":"\n            We have a simple Swing component.\n            Which we wrap in the SwingTree builder API and apply a style to it... \n        ","code":["var aComboBox =","            UI.of(new JComboBox<String>()).withStyle( conf -> conf","                .shadowColor(UI.COLOR_UNDEFINED)","                .gradient(UI.Layer.BACKGROUND, g -> g","                    .colors(UI.COLOR_UNDEFINED, UI.COLOR_UNDEFINED, UI.COLOR_UNDEFINED)","                )","                .image(UI.Layer.FOREGROUND, i -> i","                    .primer(UI.COLOR_UNDEFINED)","                )","                .fontColor(UI.COLOR_UNDEFINED)","                .fontSelectionColor(UI.COLOR_UNDEFINED)","                .fontBackgroundColor(UI.COLOR_UNDEFINED)","            )","            .get(JComboBox)"]},

        {"kind":"expect","text":"\n            The style configuration of the component will be simplified heavily, to\n            the point where it is effectively considered to have no style at all.\n        ","code":["ComponentExtension.from(aComboBox).getStyle().toString() == \"Style[\" +","        \"LayoutStyle[NONE], \" +","        \"BorderStyle[NONE], \" +","        \"BaseStyle[NONE], \" +","        \"FontStyle[NONE], \" +","        \"DimensionalityStyle[NONE], \" +","        \"StyleLayers[\" +","            \"background=StyleLayer[EMPTY], \" +","            \"content=StyleLayer[EMPTY], \" +","            \"border=StyleLayer[EMPTY], \" +","            \"foreground=StyleLayer[EMPTY]\" +","        \"], \" +","        \"properties=[]\" +","    \"]\""]}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"The `UI.FONT_UNDEFINED` constant can be used as a safe shorthand for null for the font property of the style API",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            The `UI.FONT_UNDEFINED` constant is a java.awt.Font object with its family set to \"\" and its size set to -1.\n            Its identity is used to represent the absence of a font family, and is used as a safe shorthand for null,\n            meaning that when the style engine of a component encounters it, it will treat it as if no\n            font family was specified for the property.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"\n            We create a simple Swing JComboBox component,\n            which we send through the SwingTree builder API and apply a style to it... \n        ","code":["var aComboBox =","            UI.of(new JComboBox<String>()).withStyle( conf -> conf","                .font(UI.FONT_UNDEFINED)","            )","            .get(JComboBox)"]},

        {"kind":"expect","text":"\n            The style configuration of the component will be simplified heavily, to\n            the point where it is effectively considered to have no style at all.\n        ","code":["ComponentExtension.from(aComboBox).getStyle().toString() == \"Style[\" +","        \"LayoutStyle[NONE], \" +","        \"BorderStyle[NONE], \" +","        \"BaseStyle[NONE], \" +","        \"FontStyle[NONE], \" +","        \"DimensionalityStyle[NONE], \" +","        \"StyleLayers[\" +","            \"background=StyleLayer[EMPTY], \" +","            \"content=StyleLayer[EMPTY], \" +","            \"border=StyleLayer[EMPTY], \" +","            \"foreground=StyleLayer[EMPTY]\" +","        \"], \" +","        \"properties=[]\" +","    \"]\""]}
      ],
      "problems":{"dataValues":[], "errors":[]}
    }
  
  ],
  "generator":"https://github.com/renatoathaydes/spock-reports"
}
