{
  "className":"com.globaltcad.swingtree.common.UI_Query_Spec",
  "title":"",
  "narrative":"",
  "subjects":[],
  "statistics":{
    "runs":"1",
    "successRate":"100.0%",
    "failures":"0",
    "errors":"0",
    "skipped":"0",
    "duration":"0.131 seconds"
  },
  "headers":[],"tags":{},"see":[],
  "features":[ 
    {
      "id":"We can query the swing tree within an action lambda.",
      "result":"PASS",
      "duration":"0.127 seconds",
      "iterations":{
      "tags":{},"see":[],"extraInfo":[]
      },
      "blocks":[
        {"kind":"given","text":"","code":["var root =","UI.panel(\"fill, insets 3\", \"[grow][shrink]\")",".add(\"grow\",","    UI.splitPane(UI.Split.HORIZONTAL)","    .withDividerAt(50)","    .add(","        UI.scrollPane()","        .add(","            UI.tabbedPane()","            .add(UI.tab(\"1\").add(UI.panel(\"fill\").add(\"grow\", UI.button(\"A\").id(\"B1\"))))","            .add(UI.tab(\"2\").add(UI.panel(\"fill\").add(\"grow\", UI.button(\"B\").id(\"B2\"))))","            .add(UI.tab(\"3\").add(","                UI.panel(\"fill\").add(\"grow\",","                    UI.button(\"C\").id(\"B3\")","                    .onClick( it -> { // The delegate lets us query the tree!","                        it.find(JButton, \"B2\").ifPresent(b -> b.setText(\"I got hacked by B3\"))","                        it.find(JTextArea, \"TA1\").ifPresent(a -> a.setText(\"I got hacked by B3\"))","                        it.find(JTextField, \"TF1\").ifPresent(a -> a.setText(\"I got hacked by B3\"))","                    })","                )","            ))","        )","    )","    .add(","        UI.scrollPane()","        .add(","            UI.panel(\"fill\")","            .add(\"grow,  wrap\",","                UI.scrollPane().add( UI.textArea(\"I am a text area!\").id(\"TA1\") )","            )","            .add(\"shrinky, growx\",","                UI.textField(\"I am a text field\").id(\"TF1\")","            )","        )","    )",")",".get(JPanel)"]},

        {"kind":"expect","text":"","code":["new Utility.Query(root).find(JButton, \"B1\").isPresent()","new Utility.Query(root).find(JButton, \"B2\").isPresent()","new Utility.Query(root).find(JButton, \"B3\").isPresent()","new Utility.Query(root).find(JTextArea, \"TA1\").isPresent()","new Utility.Query(root).find(JTextField, \"TF1\").isPresent()"]},

        {"kind":"when","text":"","code":["new Utility.Query(root).find(JButton, \"B3\").get().doClick()"]},

        {"kind":"then","text":"","code":["new Utility.Query(root).find(JButton, \"B1\").get().text == \"A\"","new Utility.Query(root).find(JButton, \"B2\").get().text == \"I got hacked by B3\"","new Utility.Query(root).find(JButton, \"B3\").get().text == \"C\"","new Utility.Query(root).find(JTextArea, \"TA1\").get().text == \"I got hacked by B3\"","new Utility.Query(root).find(JTextField, \"TF1\").get().text == \"I got hacked by B3\""]}
      ],
      "problems":{"dataValues":[], "errors":[]}
    }
  
  ],
  "generator":"https://github.com/renatoathaydes/spock-reports"
}