{
  "className":"com.globaltcad.swingtree.mvvm.Label_Binding_Spec",
  "title":"Label Binding",
  "narrative":"As a developer, I want to bind a label to a property so\n    that the label is updated when the property changes.\n    Binding is a powerful feature that allows us to create\n    UIs which are not only decoupled from the business logic of\n    an application, but also make it easy to create UIs which\n    are dynamic and reactive.",
  "subjects":[],
  "statistics":{
    "runs":"5",
    "successRate":"100.0%",
    "failures":"0",
    "errors":"0",
    "skipped":"0",
    "duration":"0.006 seconds"
  },
  "headers":[],"tags":{},"see":[],
  "features":[ 
    {
      "id":"We can bind to the text of a label.",
      "result":"PASS",
      "duration":"0",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            Note that for a binding to work, the property must be a Var or Val\n            implementation and it is required to call the \"show()\" method on the\n            property to apply its value to the view.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create a simple swing-tree property for modelling the text.","code":["Val<String> text = Var.of(\"Hello World\")"]},

        {"kind":"when","text":"We create and bind to a label UI node...","code":["var ui = UI.label(\"\").withText(text)"]},

        {"kind":"then","text":"The label should be updated when the property changes.","code":["ui.component.text == \"Hello World\""]},

        {"kind":"when","text":"We change the property value...","code":["text.set(\"Goodbye World\")"]},

        {"kind":"then","text":"The label should NOT be updated.","code":["ui.component.text == \"Hello World\""]},

        {"kind":"when","text":"We call the \"show\" method on the property...","code":["text.show()"]},

        {"kind":"then","text":"The label should be updated.","code":["ui.component.text == \"Goodbye World\""]}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"We can bind to the foreground and background color of a UI node.",
      "result":"PASS",
      "duration":"0",
      "iterations":{
      "tags":{},"see":[],"extraInfo":[]
      },
      "blocks":[
        {"kind":"given","text":"We create 2 simple swing-tree properties for modelling colors.","code":["Val<Color> color1 = Var.of(Color.RED)","Val<Color> color2 = Var.of(Color.BLUE)"]},

        {"kind":"when","text":"We create and bind to a label UI node...","code":["var ui =","        UI.label(\"\")","        .withForeground(color1)","        .withBackground(color2)"]},

        {"kind":"then","text":"The label should have the property colors.","code":["ui.component.foreground == Color.RED","ui.component.background == Color.BLUE"]},

        {"kind":"when","text":"We change the color values of both properties...","code":["color1.set(Color.GREEN)","color2.set(Color.YELLOW)"]},

        {"kind":"then","text":"At first the label colors are NOT updated.","code":["ui.component.foreground == Color.RED","ui.component.background == Color.BLUE"]},

        {"kind":"when","text":"We call the \"show\" method on the properties however...","code":["color1.show()","color2.show()"]},

        {"kind":"then","text":"The label colors are updated.","code":["ui.component.foreground == Color.GREEN","ui.component.background == Color.YELLOW"]}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"It is possible to bind to the minimum, maximum and preferred size of a label",
      "result":"PASS",
      "duration":"0.001 seconds",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            Note that this works for all kind of UI nodes, not just labels.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create a simple swing-tree property for modelling the size.","code":["Val<Dimension> minSize = Var.of(new Dimension(100, 100))","Val<Dimension> maxSize = Var.of(new Dimension(200, 200))","Val<Dimension> prefSize = Var.of(new Dimension(150, 150))"]},

        {"kind":"when","text":"We create and bind to a label UI node...","code":["var ui =","        UI.label(\"\")","        .withMinimumSize(minSize)","        .withMaximumSize(maxSize)","        .withPreferredSize(prefSize)"]},

        {"kind":"then","text":"The label should be updated when the property changes.","code":["ui.component.minimumSize == new Dimension(100, 100)","ui.component.maximumSize == new Dimension(200, 200)","ui.component.preferredSize == new Dimension(150, 150)"]},

        {"kind":"when","text":"We change the property values...","code":["minSize.set(new Dimension(50, 50))","maxSize.set(new Dimension(100, 100))","prefSize.set(new Dimension(75, 75))"]},

        {"kind":"then","text":"The label should NOT be updated at first.","code":["ui.component.minimumSize == new Dimension(100, 100)","ui.component.maximumSize == new Dimension(200, 200)","ui.component.preferredSize == new Dimension(150, 150)"]},

        {"kind":"when","text":"We call the \"show\" method on the property...","code":["minSize.show()","maxSize.show()","prefSize.show()"]},

        {"kind":"then","text":"The label should be updated.","code":["ui.component.minimumSize == new Dimension(50, 50)","ui.component.maximumSize == new Dimension(100, 100)","ui.component.preferredSize == new Dimension(75, 75)"]}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"You can bind a variable to the \"enable\" flag of a label.",
      "result":"PASS",
      "duration":"0",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            Note that this works for all kind of UI nodes, not just labels.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create a simple swing-tree property for modelling the size.","code":["Val<Boolean> enabled = Var.of(true)"]},

        {"kind":"when","text":"We create and bind to a label UI node...","code":["var ui =","        UI.label(\"\")","        .isEnabledIf(enabled)"]},

        {"kind":"then","text":"The label should be updated when the property changes.","code":["ui.component.enabled == true"]},

        {"kind":"when","text":"We change the property values...","code":["enabled.set(false)"]},

        {"kind":"then","text":"The label should NOT be updated.","code":["ui.component.enabled == true"]},

        {"kind":"when","text":"We call the \"show\" method on the property...","code":["enabled.show()"]},

        {"kind":"then","text":"The label should be updated.","code":["ui.component.enabled == false"]}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"You can bind a variable to the \"visible\" flag of a label.",
      "result":"PASS",
      "duration":"0",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            Note that this works for all kind of UI nodes, not just labels.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create a simple swing-tree property for modelling the size.","code":["Val<Boolean> visible = Var.of(true)"]},

        {"kind":"when","text":"We create and bind to a label UI node...","code":["var ui =","        UI.label(\"\")","        .isVisibleIf(visible)"]},

        {"kind":"then","text":"The label should be updated when the property changes.","code":["ui.component.visible == true"]},

        {"kind":"when","text":"We change the property values...","code":["visible.set(false)"]},

        {"kind":"then","text":"The label should NOT be updated.","code":["ui.component.visible == true"]},

        {"kind":"when","text":"We call the \"show\" method on the property...","code":["visible.show()"]},

        {"kind":"then","text":"The label should be updated.","code":["ui.component.visible == false"]}
      ],
      "problems":{"dataValues":[], "errors":[]}
    }
  
  ],
  "generator":"https://github.com/renatoathaydes/spock-reports"
}