<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ImageStyle.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">swing-tree</a> &gt; <a href="index.source.html" class="el_package">swingtree.style</a> &gt; <span class="el_source">ImageStyle.java</span></div><h1>ImageStyle.java</h1><pre class="source lang-java linenums">package swingtree.style;

import swingtree.UI;

import java.awt.*;
import java.util.Objects;
import java.util.Optional;

public final class ImageStyle
{
<span class="fc" id="L11">    private static final ImageStyle _NONE = new ImageStyle(</span>
                                                UI.Layer.BACKGROUND,
                                                null,
                                                null,
                                                UI.Placement.CENTER,
                                                false,
                                                false,
                                                null,
                                                null,
                                                1.0f,
<span class="fc" id="L21">                                                Outline.none()</span>
                                            );

<span class="fc" id="L24">    static ImageStyle none() { return _NONE; }</span>

    private final UI.Layer     _layer;
    private final Color        _primer;

    private final Image        _image;
    private final UI.Placement _placement;
    private final boolean      _repeat;
    private final boolean      _autoFit;
    private final Integer      _width;
    private final Integer      _height;
    private final float        _opacity;
    private final Outline      _padding;

    public ImageStyle(
        UI.Layer     layer,
        Color        primer,
        Image        image,
        UI.Placement placement,
        boolean      repeat,
        boolean      autoFit,
        Integer      width,
        Integer      height,
        float        opacity,
        Outline      padding
<span class="fc" id="L49">    ) {</span>
<span class="fc" id="L50">        _layer     = Objects.requireNonNull(layer);</span>
<span class="fc" id="L51">        _primer    = primer;</span>
<span class="fc" id="L52">        _image     = image;</span>
<span class="fc" id="L53">        _placement = Objects.requireNonNull(placement);</span>
<span class="fc" id="L54">        _repeat    = repeat;</span>
<span class="fc" id="L55">        _autoFit   = autoFit;</span>
<span class="fc" id="L56">        _width     = width;</span>
<span class="fc" id="L57">        _height    = height;</span>
<span class="fc" id="L58">        _opacity   = opacity;</span>
<span class="fc" id="L59">        _padding   = Objects.requireNonNull(padding);</span>
<span class="pc bpc" id="L60" title="2 of 4 branches missed.">        if ( _opacity &lt; 0.0f || _opacity &gt; 1.0f )</span>
<span class="nc" id="L61">            throw new IllegalArgumentException(&quot;transparency must be between 0.0f and 1.0f&quot;);</span>
<span class="fc" id="L62">    }</span>

<span class="fc" id="L64">    public UI.Layer layer() { return _layer; }</span>

<span class="fc" id="L66">    public Optional&lt;Color&gt; primer() { return Optional.ofNullable(_primer); }</span>

<span class="fc" id="L68">    public Optional&lt;Image&gt; image() { return Optional.ofNullable(_image); }</span>

<span class="fc" id="L70">    public UI.Placement placement() { return _placement; }</span>

<span class="fc" id="L72">    public boolean repeat() { return _repeat; }</span>

<span class="fc" id="L74">    public boolean autoFit() { return _autoFit; }</span>

<span class="fc" id="L76">    public Optional&lt;Integer&gt; width() { return Optional.ofNullable(_width); }</span>

<span class="fc" id="L78">    public Optional&lt;Integer&gt; height() { return Optional.ofNullable(_height); }</span>

<span class="fc" id="L80">    public float opacity() { return _opacity; }</span>

<span class="fc" id="L82">    public Outline padding() { return _padding; }</span>

    /**
     *  This method allows you to specify the layer onto which the image will be drawn.
     *  The default layer is the background layer. &lt;br&gt;
     *  Here a list of available layers:
     *  &lt;ul&gt;
     *      &lt;li&gt;{@link swingtree.UI.Layer#BACKGROUND}&lt;/li&gt;
     *      &lt;li&gt;{@link swingtree.UI.Layer#CONTENT}&lt;/li&gt;
     *      &lt;li&gt;{@link swingtree.UI.Layer#BORDER}&lt;/li&gt;
     *      &lt;li&gt;{@link swingtree.UI.Layer#FOREGROUND}&lt;/li&gt;
     *  &lt;/ul&gt;
     *
     * @param layer The layer onto which the image will be drawn.
     * @return A new {@link ImageStyle} instance with the specified layer.
     */
<span class="fc" id="L98">    public ImageStyle layer( UI.Layer layer ) { return new ImageStyle(layer, _primer, _image, _placement, _repeat, _autoFit, _width, _height, _opacity, _padding); }</span>

    /**
     *  Here you can specify the &lt;b&gt;primer color of the image style&lt;/b&gt; which will be used
     *  as a filler color for the image background. &lt;br&gt;
     *  Note that the primer color will not be visible if the image is opaque and it fills the entire component.
     *
     * @param color The primer color of the image style.
     * @return A new {@link ImageStyle} instance with the specified primer color.
     */
<span class="fc" id="L108">    public ImageStyle primer( Color color ) { return new ImageStyle(_layer, color, _image, _placement, _repeat, _autoFit, _width, _height, _opacity, _padding); }</span>

    /**
     *  Here you can specify the &lt;b&gt;image&lt;/b&gt; which will be drawn onto the component.
     *  The supplied object must be an instance of {@link Image} implementation.
     *
     * @param image The image which will be drawn onto the component.
     * @return A new {@link ImageStyle} instance with the specified image.
     */
<span class="fc" id="L117">    public ImageStyle image( Image image ) { return new ImageStyle(_layer, _primer, image, _placement, _repeat, _autoFit, _width, _height, _opacity, _padding); }</span>

    /**
     *  Here you can specify the &lt;b&gt;placement&lt;/b&gt; of the image onto the component.
     *  The default placement is {@link swingtree.UI.Placement#CENTER}. &lt;br&gt;
     *  Here a list of available options and their effect:
     *  &lt;ul&gt;
     *      &lt;li&gt;{@link swingtree.UI.Placement#CENTER} -
     *          The image will be drawn at the center of the component.
     *          So the center of the image will be at the center of the inner component area.
     *      &lt;/li&gt;
     *      &lt;li&gt;{@link swingtree.UI.Placement#TOP_LEFT} -
     *          The image will be drawn beginning at the top left corner of the inner component area.
     *          So the top left corner of the image will be in the top left corner of the inner component area.
     *      &lt;/li&gt;
     *      &lt;li&gt;{@link swingtree.UI.Placement#TOP_RIGHT} -
     *          The image will be placed in the top right corner of the inner component area.
     *          So the top right corner of the image will be in the top right corner of the inner component area.
     *      &lt;/li&gt;
     *      &lt;li&gt;{@link swingtree.UI.Placement#BOTTOM_LEFT} -
     *          The image will be drawn in the bottom left corner of the inner component area.
     *          So the bottom left corner of the image will be in the bottom left corner of the inner component area.
     *      &lt;/li&gt;
     *      &lt;li&gt;{@link swingtree.UI.Placement#BOTTOM_RIGHT} -
     *          The image will be drawn in the bottom right corner of the inner component area.
     *          So the bottom right corner of the image will be in the bottom right corner of the inner component area.
     *      &lt;/li&gt;
     *      &lt;li&gt;{@link swingtree.UI.Placement#TOP} -
     *          The image will be drawn in the top center of the inner component area.
     *          So the top center of the image will be in the top center of the inner component area.
     *      &lt;/li&gt;
     *      &lt;li&gt;{@link swingtree.UI.Placement#BOTTOM} -
     *          The image will be drawn in the bottom center of the inner component area.
     *          So the bottom center of the image will be in the bottom center of the inner component area.
     *      &lt;/li&gt;
     *      &lt;li&gt;{@link swingtree.UI.Placement#LEFT} -
     *          The image will be drawn in the left center of the inner component area.
     *          So the left center of the image will be in the left center of the inner component area.
     *      &lt;/li&gt;
     *  &lt;/ul&gt;
     *
     * @param placement The placement of the image onto the component.
     * @return A new {@link ImageStyle} instance with the specified placement.
     */
<span class="fc" id="L161">    public ImageStyle placement( UI.Placement placement ) { return new ImageStyle(_layer, _primer, _image, placement, _repeat, _autoFit, _width, _height, _opacity, _padding); }</span>

    /**
     *  If this flag is set to {@code true}, then the image may be painted
     *  multiple times so that it fills up the entire inner component area.
     *  There will not be a noticeable effect of this flag if the
     *  image already fills out the inner component area (see {@link #autoFit(boolean)}, {@link #size(int, int)}).
     *
     * @param repeat Weather the image should be painted repeatedly across the inner component area.
     * @return A new {@link ImageStyle} instance with the specified {@code repeat} flag value.
     */
<span class="fc" id="L172">    public ImageStyle repeat( boolean repeat ) { return new ImageStyle(_layer, _primer, _image, _placement, repeat, _autoFit, _width, _height, _opacity, _padding); }</span>

    /**
     *  If this flag is set to {@code true}, then the image will be stretched or shrunk
     *  to fill the inner component area dependent on the specified width and height,
     *  meaning that if the width was not specified explicitly through {@link #width(Integer)}
     *  then the image will be scaled to fit the inner component width,
     *  and if a height was not specified through {@link #height(Integer)} then
     *  the image will be scaled to fit the inner component height. &lt;br&gt;
     *  &lt;b&gt;Note that the inner component area is the area enclosed by the border, which
     *  is itself not part of said area!&lt;/b&gt;
     *
     * @param autoFit If true the image will be scaled to fit the inner component area for every
     *                dimension which was not specified,
     *                otherwise the image will not be scaled to fit the inner component area.
     * @return A new {@link ImageStyle} instance with the specified {@code autoFit} flag value.
     */
<span class="fc" id="L189">    public ImageStyle autoFit( boolean autoFit ) { return new ImageStyle(_layer, _primer, _image, _placement, _repeat, autoFit, _width, _height, _opacity, _padding); }</span>

    /**
     *  Ensures that the image has the specified width.
     *
     * @param width The width of the image.
     * @return A new {@link ImageStyle} instance with the specified {@code width}.
     */
<span class="fc" id="L197">    public ImageStyle width( Integer width ) { return new ImageStyle(_layer, _primer, _image, _placement, _repeat, _autoFit, width, _height, _opacity, _padding); }</span>

    /**
     *  Ensures that the image has the specified height.
     *
     * @param height The height of the image.
     * @return A new {@link ImageStyle} instance with the specified {@code heiht}.
     */
<span class="fc" id="L205">    public ImageStyle height( Integer height ) { return new ImageStyle(_layer, _primer, _image, _placement, _repeat, _autoFit, _width, height, _opacity, _padding); }</span>

<span class="fc" id="L207">    public ImageStyle size( int width, int height ) { return new ImageStyle(_layer, _primer, _image, _placement, _repeat, _autoFit, width, height, _opacity, _padding); }</span>

<span class="fc" id="L209">    public ImageStyle opacity( float opacity ) { return new ImageStyle(_layer, _primer, _image, _placement, _repeat, _autoFit, _width, _height, opacity, _padding); }</span>

<span class="fc" id="L211">    ImageStyle padding( Outline padding ) { return new ImageStyle(_layer, _primer, _image, _placement, _repeat, _autoFit, _width, _height, _opacity, padding); }</span>

<span class="nc" id="L213">    public ImageStyle padding( int top, int right, int bottom, int left ) { return padding(Outline.of(top, right, bottom, left)); }</span>

<span class="nc" id="L215">    public ImageStyle padding( int topBottom, int leftRight ) { return padding(Outline.of(topBottom, leftRight, topBottom, leftRight)); }</span>

<span class="fc" id="L217">    public ImageStyle padding( int padding ) { return padding(Outline.of(padding, padding, padding, padding)); }</span>

    ImageStyle _scale( double scaleFactor ) {
<span class="pc bpc" id="L220" title="1 of 4 branches missed.">        if ( _width == null &amp;&amp; _height == null ) return this;</span>
<span class="pc bpc" id="L221" title="1 of 2 branches missed.">        Integer width  = _width  == null ? null : (int) Math.round(_width  * scaleFactor);</span>
<span class="pc bpc" id="L222" title="1 of 2 branches missed.">        Integer height = _height == null ? null : (int) Math.round(_height * scaleFactor);</span>
<span class="fc" id="L223">        return new ImageStyle(_layer, _primer, _image, _placement, _repeat, _autoFit, width, height, _opacity, _padding.scale(scaleFactor));</span>
    }

    @Override
<span class="fc" id="L227">    public int hashCode() { return Objects.hash(_layer, _primer, _image, _placement, _repeat, _autoFit, _width, _height, _opacity, _padding); }</span>

    @Override
    public boolean equals(Object obj) {
<span class="pc bpc" id="L231" title="1 of 2 branches missed.">        if ( obj == null ) return false;</span>
<span class="fc bfc" id="L232" title="All 2 branches covered.">        if ( obj == this ) return true;</span>
<span class="pc bpc" id="L233" title="1 of 2 branches missed.">        if ( obj.getClass() != getClass() ) return false;</span>
<span class="fc" id="L234">        ImageStyle rhs = (ImageStyle) obj;</span>
<span class="fc bfc" id="L235" title="All 2 branches covered.">        return Objects.equals(_layer,        rhs._layer)     &amp;&amp;</span>
<span class="fc bfc" id="L236" title="All 2 branches covered.">               Objects.equals(_primer,       rhs._primer)    &amp;&amp;</span>
<span class="fc bfc" id="L237" title="All 2 branches covered.">               Objects.equals(_image,        rhs._image)     &amp;&amp;</span>
<span class="pc bpc" id="L238" title="1 of 2 branches missed.">               Objects.equals(_placement,    rhs._placement) &amp;&amp;</span>
<span class="pc bpc" id="L239" title="1 of 2 branches missed.">               Objects.equals(_repeat,       rhs._repeat)    &amp;&amp;</span>
<span class="pc bpc" id="L240" title="1 of 2 branches missed.">               Objects.equals(_autoFit,      rhs._autoFit)   &amp;&amp;</span>
<span class="pc bpc" id="L241" title="1 of 2 branches missed.">               Objects.equals(_width,        rhs._width)     &amp;&amp;</span>
<span class="pc bpc" id="L242" title="1 of 2 branches missed.">               Objects.equals(_height,       rhs._height)    &amp;&amp;</span>
<span class="pc bpc" id="L243" title="1 of 2 branches missed.">               Objects.equals(_opacity, rhs._opacity)        &amp;&amp;</span>
<span class="pc bpc" id="L244" title="1 of 2 branches missed.">               Objects.equals(_padding, rhs._padding);</span>
    }

    @Override
    public String toString() {
<span class="fc" id="L249">        return this.getClass().getSimpleName() + &quot;[&quot; +</span>
                    &quot;layer=&quot;        + _layer +
<span class="fc" id="L251">                    &quot;, primer=&quot;     + StyleUtility.toString(_primer) +</span>
<span class="pc bpc" id="L252" title="1 of 2 branches missed.">                    &quot;, image=&quot;      + (_image == null ? &quot;?&quot; : _image.toString()) +</span>
                    &quot;, placement=&quot;  + _placement +
                    &quot;, repeat=&quot;     + _repeat +
                    &quot;, autoFit=&quot;    + _autoFit +
<span class="pc bpc" id="L256" title="1 of 2 branches missed.">                    &quot;, width=&quot;      + ( _width == null ? &quot;?&quot; : _width.toString() ) +</span>
<span class="pc bpc" id="L257" title="1 of 2 branches missed.">                    &quot;, height=&quot;     + ( _height == null ? &quot;?&quot; : _height.toString() ) +</span>
                    &quot;, opacity=&quot;    + _opacity +
                    &quot;, padding=&quot;    + _padding +
                &quot;]&quot;;
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.5.201910111838</span></div></body></html>