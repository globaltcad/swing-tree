<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Vals.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">swing-tree</a> &gt; <a href="index.source.html" class="el_package">swingtree.api.mvvm</a> &gt; <span class="el_source">Vals.java</span></div><h1>Vals.java</h1><pre class="source lang-java linenums">package swingtree.api.mvvm;

import swingtree.api.UIAction;

import java.util.function.Function;

/**
 *  An immutable list of immutable MVVM properties.
 *
 * @param &lt;T&gt; The type of the properties.
 */
public interface Vals&lt;T&gt; extends Iterable&lt;T&gt;
{
    /**
     *  Create a new {@link Vals} instance from the given values.
     * @param type The type of the values.
     * @param vars The properties to add to the new {@link Vals} instance.
     * @param &lt;T&gt; The type of the values.
     * @return A new {@link Vals} instance.
     */
    @SuppressWarnings(&quot;unchecked&quot;)
    static &lt;T&gt; Vals&lt;T&gt; of( Class&lt;T&gt; type, Val&lt;T&gt;... vars ) {
<span class="nc" id="L23">        return AbstractVariables.of( true, type, (Var&lt;T&gt;[]) vars );</span>
    }

    /**
     *  Create a new {@link Vals} instance from the given values.
     * @param first The first property to add to the new {@link Vals} instance.
     * @param rest The remaining properties to add to the new {@link Vals} instance.
     * @param &lt;T&gt; The type of the values.
     * @return A new {@link Vals} instance.
     */
    @SuppressWarnings(&quot;unchecked&quot;)
    static &lt;T&gt; Vals&lt;T&gt; of( Val&lt;T&gt; first, Val&lt;T&gt;... rest ) {
<span class="fc" id="L35">        Var&lt;T&gt;[] vars = new Var[rest.length];</span>
<span class="fc" id="L36">        System.arraycopy(rest, 0, vars, 0, rest.length);</span>
<span class="fc" id="L37">        return AbstractVariables.of( true, (Var&lt;T&gt;) first, vars );</span>
    }

    /**
     *  Create a new {@link Vals} instance from the given values.
     * @param first The first value to add to the new {@link Vals} instance.
     * @param rest The remaining values to add to the new {@link Vals} instance.
     * @param &lt;T&gt; The type of the values.
     * @return A new {@link Vals} instance.
     */
    @SuppressWarnings(&quot;unchecked&quot;)
<span class="fc" id="L48">    static &lt;T&gt; Vals&lt;T&gt; of( T first, T... rest ) { return AbstractVariables.of( true, first, rest); }</span>

    /**
     *  Create a new {@link Vals} instance from the iterable.
     *  The iterable must be a collection of Val instances.
     *  @param type The type of the values.
     *  @param vars The iterable to add to the new {@link Vals} instance.
     *  @param &lt;T&gt; The type of the values.
     *  @return A new {@link Vals} instance.
     */
    static &lt;T&gt; Vals&lt;T&gt; of( Class&lt;T&gt; type, Iterable&lt;Val&lt;T&gt;&gt; vars ) {
<span class="nc" id="L59">        return AbstractVariables.of( true, type, (Iterable) vars );</span>
    }

    /**
     *  Create a new {@link Vals} instance from the given values.
     * @param type The type of the values.
     * @param vals The properties to add to the new {@link Vals} instance.
     * @param &lt;T&gt; The type of the values.
     * @return A new {@link Vals} instance.
     */
    @SuppressWarnings(&quot;unchecked&quot;)
    static &lt;T&gt; Vals&lt;T&gt; ofNullable( Class&lt;T&gt; type, Val&lt;T&gt;... vals ) {
<span class="nc" id="L71">        Var&lt;T&gt;[] vars = new Var[vals.length];</span>
<span class="nc" id="L72">        System.arraycopy(vals, 0, vars, 0, vals.length);</span>
<span class="nc" id="L73">        return AbstractVariables.ofNullable( true, type, vars );</span>
    }

    /**
     *  Create a new {@link Vals} instance from the given values.
     * @param type The type of the values.
     * @param values The values to add to the new {@link Vals} instance.
     * @param &lt;T&gt; The type of the values.
     * @return A new {@link Vals} instance.
     */
    @SuppressWarnings(&quot;unchecked&quot;)
    static &lt;T&gt; Vals&lt;T&gt; ofNullable( Class&lt;T&gt; type, T... values ) {
<span class="nc" id="L85">        return AbstractVariables.ofNullable( true, type, values );</span>
    }

    /**
     *  Create a new {@link Vals} instance from the given values.
     * @param first The first property to add to the new {@link Vals} instance.
     * @param rest The remaining properties to add to the new {@link Vals} instance.
     * @param &lt;T&gt; The type of the values.
     * @return A new {@link Vals} instance.
     */
    @SuppressWarnings(&quot;unchecked&quot;)
    static &lt;T&gt; Vals&lt;T&gt; ofNullable( Var&lt;T&gt; first, Val&lt;T&gt;... rest ) {
<span class="nc" id="L97">        Var&lt;T&gt;[] vars = new Var[rest.length];</span>
<span class="nc" id="L98">        System.arraycopy(rest, 0, vars, 0, rest.length);</span>
<span class="nc" id="L99">        return AbstractVariables.ofNullable( true, first, vars );</span>
    }


    /**
     * @return The type of the properties.
     */
    Class&lt;T&gt; type();

    /**
     *  The number of properties in the list.
     * @return The number of properties in the list.
     */
    int size();

    /**
     *  The property at the given index.
     * @param index The index of the property.
     * @return The property at the given index.
     */
    Val&lt;T&gt; at( int index );

    /**
     * @return The first property in the list of properties.
     */
    Val&lt;T&gt; first();

    /**
     * @return The last property in the list of properties.
     */
    Val&lt;T&gt; last();

    /**
     * @return True if the list of properties is empty.
     */
<span class="pc bpc" id="L134" title="1 of 2 branches missed.">    default boolean isEmpty() { return size() == 0; }</span>

    /**
     * @return True if the list of properties is not empty.
     */
<span class="pc bpc" id="L139" title="1 of 2 branches missed.">    default boolean isNotEmpty() { return !isEmpty(); }</span>

    /**
     * @param value The value to search for.
     * @return True if any of the properties of this list wraps the given value.
     */
<span class="nc bnc" id="L145" title="All 2 branches missed.">    default boolean contains( T value ) { return indexOf(value) != -1; }</span>

    /**
     * @param value The value to search for.
     * @return The index of the property that wraps the given value, or -1 if not found.
     */
    default int indexOf( T value )
    {
<span class="fc" id="L153">        int index = 0;</span>
<span class="fc bfc" id="L154" title="All 2 branches covered.">        for( T v : this ) {</span>
<span class="fc bfc" id="L155" title="All 2 branches covered.">            if( Val.equals(v,value) ) return index;</span>
<span class="fc" id="L156">            index++;</span>
<span class="fc" id="L157">        }</span>
<span class="fc" id="L158">        return -1;</span>
    }

    /**
     * @param value The property to search for in this list.
     * @return The index of the given property in this list, or -1 if not found.
     */
<span class="fc" id="L165">    default int indexOf( Val&lt;T&gt; value ) { return indexOf(value.get()); }</span>

    /**
     * @param value The value property to search for.
     * @return True if the given property is in this list.
     */
<span class="nc" id="L171">    default boolean contains( Val&lt;T&gt; value ) { return contains(value.get()); }</span>

    /**
     *  Check for equality between this list of properties and another list of properties.
     *
     * @param other The other list of properties.
     * @return True if the two lists of properties are equal.
     */
    default boolean is( Vals&lt;T&gt; other )
    {
<span class="nc bnc" id="L181" title="All 2 branches missed.">        if ( size() != other.size() ) return false;</span>
<span class="nc bnc" id="L182" title="All 2 branches missed.">        for ( int i = 0; i &lt; size(); i++ ) {</span>
<span class="nc bnc" id="L183" title="All 2 branches missed.">            if( !this.at(i).is(other.at(i)) ) return false;</span>
        }
<span class="nc" id="L185">        return true;</span>
    }

    /**
     *  Similar to {@link Var#onShow(UIAction)} but for a list of properties.
     *
     * @param action The action to perform when the list of properties is shown (which is called when its state changes).
     * @return This list of properties.
     */
    Vals&lt;T&gt; onShow( UIAction&lt;ValsDelegate&lt;T&gt;&gt; action );

    /**
     *  Similar to {@link Var#show()} but for a list of properties.
     */
    Vals&lt;T&gt; show();

    /**
     *  Use this for mapping a list of properties to another list of properties.
     */
    Vals&lt;T&gt; map( Function&lt;T,T&gt; mapper );

    /**
     *  Use this for mapping a list of properties to another list of properties.
     */
    &lt;U&gt; Vals&lt;U&gt; mapTo( Class&lt;U&gt; type, Function&lt;T,U&gt; mapper );

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.5.201910111838</span></div></body></html>